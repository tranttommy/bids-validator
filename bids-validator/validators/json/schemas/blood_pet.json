{
  "type": "object",
  "properties": {
    "PlasmaAvail": { "type": "boolean" },
    "MetaboliteAvail": { "type": "boolean" },
    "WholeBloodAvail": { "type": "boolean" },
    "DispersionCorrected": { "type": "boolean" },

    "WithdrawalRate": { "type": "number" },
    "TubingType": { "type": "string" },
    "TubingLength": { "type": "number" },
    "DispersionConstant": { "type": "number" },
    "Haematocrit": { "type": "number" },
    "BloodDensity": { "type": "number" },

    "PlasmaFreeFraction": { "type": "number", "min": 0, "max": 1 },
    "PlasmaFreeFractionMethod": { "type": "string", "minLength": 1 },
    "MetaboliteMethod": { "type": "string", "minLength": 1 },
    "MetaboliteRecoveryCorrectionApplied": { "type": "boolean" }
  },

  "allOf": [
    {
      "if": {
        "properties": {
          "MetaboliteAvail": {
            "const": [true]
          }
        }
      },
      "then": {
        "required": ["MetaboliteMethod", "MetaboliteRecoveryCorrectionApplied"]
      }
    }
  ],

  "required": [
    "PlasmaAvail",
    "MetaboliteAvail",
    "WholeBloodAvail",
    "DispersionCorrected"
  ]
}
